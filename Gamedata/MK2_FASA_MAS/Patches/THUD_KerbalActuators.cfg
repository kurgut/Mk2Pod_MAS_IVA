
// WBI Kerbal Actuators patch for the thud radial engine= = =
@PART[radialLiquidEngine1-2]:NEEDS[KerbalActuators,!Restock]
{
	MODULE
	{
		name = WBIHoverController
		guiVisible = false
		verticalSpeedIncrements = 1.0
	}
}

@PART[radialLiquidEngine1-2]:NEEDS[KerbalActuators,!Restock]
{
	MODULE
	{
		//This module handles mesh rotation operations such as an engine nacelle pivot.
		name = WBIRotationController

		//(Optional, defaults to Actuator) User-friendly name of the rotation controller.
		rotatorName = Engine Rotation

		//(Optional, defaults to Engine) Group ID for the actuator. Allows you to differentiate
		//between the VTOL manager (which uses the Engine group), and, say, a robot arm manager.
		groupID = Engine

		//We'll use the toolbar app button to control VTOL operations.
		//(defaults to true, so we have the buttons in the right-click menu)
		guiVisible = true

		//Name of the pivot
		rotationMeshName = Thud
		// rotationMeshName = LFS_Thud_Shroud

		//Rotation axis of the pivot
		rotationMeshAxis = 0,0,-1

		//How fast to rotate the pivot
		rotationDegPerSec = 30 //45

		//Maximum rotation angle
		//From 0 to 360 degrees
		//Min --- Neutral (0) --- Max
		//NOTE: if maxRotateAngle & minRotateAngle are -1 (which is the default),
		//then the rotation pivot can go 360 degrees.
		maxRotateAngle = 90

		//Minimum rotation angle (0 to 360 degrees)
		minRotateAngle = 270

		//Can we rotate to minimum?
		//Ex: tilt-rotor can pivot up and forward and that's it.
		canRotateMin = true

		//Can we rotate to maximum?
		canRotateMax = true

		//Name of the rotate to maximum button (only applies if gui buttons are visible)
		rotateMaxName = Rotate Fwd
	
		//Name of the rotate to minimum button (only applies if gui buttons are visible)
		rotateMinName = Rotate Aft

		//Name of the rotate to neutral button (only applies if gui buttons are visible)
		rotateNeutralName = Rotate Down
	}
}


// ----------- RESTOCK PATCH ------------

// create a duplicate part of the thud radial engine before restock, because the restock model doesn't have the same model, and can't be rotated
+PART[radialLiquidEngine1-2]:NEEDS[Restock]:FIRST
{
	@name = radialLiquidEngine1-2_original
	@title = Mk-55 "Thud" Liquid Fuel Engine_Original
}

// WBI Kerbal Actuators patch for the thud radial engine= = =
@PART[radialLiquidEngine1-2_original]:NEEDS[KerbalActuators,Restock]
{
	MODULE
	{
		name = WBIHoverController
		guiVisible = false
		verticalSpeedIncrements = 1.0
	}
}

@PART[radialLiquidEngine1-2_original]:NEEDS[KerbalActuators,Restock]
{
	MODULE
	{
		//This module handles mesh rotation operations such as an engine nacelle pivot.
		name = WBIRotationController

		//(Optional, defaults to Actuator) User-friendly name of the rotation controller.
		rotatorName = Engine Rotation

		//(Optional, defaults to Engine) Group ID for the actuator. Allows you to differentiate
		//between the VTOL manager (which uses the Engine group), and, say, a robot arm manager.
		groupID = Engine

		//We'll use the toolbar app button to control VTOL operations.
		//(defaults to true, so we have the buttons in the right-click menu)
		guiVisible = true

		//Name of the pivot
		rotationMeshName = Thud
		// rotationMeshName = LFS_Thud_Shroud

		//Rotation axis of the pivot
		rotationMeshAxis = 0,0,-1

		//How fast to rotate the pivot
		rotationDegPerSec = 30 //45

		//Maximum rotation angle
		//From 0 to 360 degrees
		//Min --- Neutral (0) --- Max
		//NOTE: if maxRotateAngle & minRotateAngle are -1 (which is the default),
		//then the rotation pivot can go 360 degrees.
		maxRotateAngle = 90

		//Minimum rotation angle (0 to 360 degrees)
		minRotateAngle = 270

		//Can we rotate to minimum?
		//Ex: tilt-rotor can pivot up and forward and that's it.
		canRotateMin = true

		//Can we rotate to maximum?
		canRotateMax = true

		//Name of the rotate to maximum button (only applies if gui buttons are visible)
		rotateMaxName = Rotate Fwd
	
		//Name of the rotate to minimum button (only applies if gui buttons are visible)
		rotateMinName = Rotate Aft

		//Name of the rotate to neutral button (only applies if gui buttons are visible)
		rotateNeutralName = Rotate Down
	}
}